import{o as E,i as B}from"./transform.0e4051f9.js";function L(n,e,l){n=+n,e=+e,l=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+l;for(var i=-1,a=Math.max(0,Math.ceil((e-n)/l))|0,o=new Array(a);++i<a;)o[i]=n+i*l;return o}function N(n){return n}var H=1,R=2,_=3,b=4,C=1e-6;function X(n){return"translate("+n+",0)"}function Y(n){return"translate(0,"+n+")"}function j(n){return e=>+n(e)}function q(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),l=>+n(l)+e}function D(){return!this.__axis}function P(n,e){var l=[],i=null,a=null,o=6,g=6,m=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=n===H||n===b?-1:1,f=n===b||n===R?"x":"y",s=n===H||n===_?X:Y;function t(r){var h=i??(e.ticks?e.ticks.apply(e,l):e.domain()),A=a??(e.tickFormat?e.tickFormat.apply(e,l):N),y=Math.max(o,0)+m,M=e.range(),z=+M[0]+u,F=+M[M.length-1]+u,V=(e.bandwidth?q:j)(e.copy(),u),x=r.selection?r.selection():r,k=x.selectAll(".domain").data([null]),d=x.selectAll(".tick").data(h,e).order(),S=d.exit(),I=d.enter().append("g").attr("class","tick"),v=d.select("line"),w=d.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),d=d.merge(I),v=v.merge(I.append("line").attr("stroke","currentColor").attr(f+"2",c*o)),w=w.merge(I.append("text").attr("fill","currentColor").attr(f,c*y).attr("dy",n===H?"0em":n===_?"0.71em":"0.32em")),r!==x&&(k=k.transition(r),d=d.transition(r),v=v.transition(r),w=w.transition(r),S=S.transition(r).attr("opacity",C).attr("transform",function(p){return isFinite(p=V(p))?s(p+u):this.getAttribute("transform")}),I.attr("opacity",C).attr("transform",function(p){var O=this.parentNode.__axis;return s((O&&isFinite(O=O(p))?O:V(p))+u)})),S.remove(),k.attr("d",n===b||n===R?g?"M"+c*g+","+z+"H"+u+"V"+F+"H"+c*g:"M"+u+","+z+"V"+F:g?"M"+z+","+c*g+"V"+u+"H"+F+"V"+c*g:"M"+z+","+u+"H"+F),d.attr("opacity",1).attr("transform",function(p){return s(V(p)+u)}),v.attr(f+"2",c*o),w.attr(f,c*y).text(A),x.filter(D).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===R?"start":n===b?"end":"middle"),x.each(function(){this.__axis=V})}return t.scale=function(r){return arguments.length?(e=r,t):e},t.ticks=function(){return l=Array.from(arguments),t},t.tickArguments=function(r){return arguments.length?(l=r==null?[]:Array.from(r),t):l.slice()},t.tickValues=function(r){return arguments.length?(i=r==null?null:Array.from(r),t):i&&i.slice()},t.tickFormat=function(r){return arguments.length?(a=r,t):a},t.tickSize=function(r){return arguments.length?(o=g=+r,t):o},t.tickSizeInner=function(r){return arguments.length?(o=+r,t):o},t.tickSizeOuter=function(r){return arguments.length?(g=+r,t):g},t.tickPadding=function(r){return arguments.length?(m=+r,t):m},t.offset=function(r){return arguments.length?(u=+r,t):u},t}function K(n){return P(_,n)}function Q(n){return P(b,n)}function G(){var n=E().unknown(void 0),e=n.domain,l=n.range,i=0,a=1,o,g,m=!1,u=0,c=0,f=.5;delete n.unknown;function s(){var t=e().length,r=a<i,h=r?a:i,A=r?i:a;o=(A-h)/Math.max(1,t-u+c*2),m&&(o=Math.floor(o)),h+=(A-h-o*(t-u))*f,g=o*(1-u),m&&(h=Math.round(h),g=Math.round(g));var y=L(t).map(function(M){return h+o*M});return l(r?y.reverse():y)}return n.domain=function(t){return arguments.length?(e(t),s()):e()},n.range=function(t){return arguments.length?([i,a]=t,i=+i,a=+a,s()):[i,a]},n.rangeRound=function(t){return[i,a]=t,i=+i,a=+a,m=!0,s()},n.bandwidth=function(){return g},n.step=function(){return o},n.round=function(t){return arguments.length?(m=!!t,s()):m},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),s()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),s()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,s()):c},n.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},n.copy=function(){return G(e(),[i,a]).round(m).paddingInner(u).paddingOuter(c).align(f)},B.apply(s(),arguments)}export{K as a,G as b,Q as c};
